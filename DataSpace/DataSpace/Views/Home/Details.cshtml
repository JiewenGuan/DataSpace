@model DataSpace.Models.Experiment
@using Microsoft.AspNetCore.Http

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
    int? UserID = null;
    if (Context.Session.GetInt32(nameof(Person.PersonID)).HasValue)
        UserID = Context.Session.GetInt32(nameof(Person.PersonID)).Value;
}

<h1>Details</h1>

<div>
    <h4>Experiment</h4>
    <hr />
    <dl class="row">
        @if (Model.AuthorId == Context.Session.GetInt32(nameof(Person.PersonID)))
        {
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.DateOfSubmission)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.DateOfSubmission)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.EvaluationStatus)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.EvaluationStatus)
            </dd>
        }

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Title)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Title)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.TOA)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.TOA)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Aim)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Aim)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Objective)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Objective)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Summary)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Summary)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.ModuleDrawing)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.ModuleDrawing)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Status)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Status)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.ExperimentDate)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.ExperimentDate)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.FeildOfResearch)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.FeildOfResearch)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.SocialEconomicObjective)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.SocialEconomicObjective)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.LeadIstitution)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.LeadIstitution.Name)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Mission)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Mission.Name)
        </dd>
    </dl>
</div>
<h3>Participants</h3>
<table class="table">
    <thead>
        <tr>
            <th>
                First Name
            </th>
            <th>
                Family Name
            </th>
            <th>
                Role
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.Participants)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Participant.FirstName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Participant.FamilyName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Role.Title)
                </td>
            </tr>
        }
    </tbody>
</table>

<div>
    @if (Model.AuthorId == UserID)
    {
        <a asp-action="Edit" asp-route-id="@Model.ExperimentID">Edit  </a>
    }
    <a asp-action="Index">Back to List</a>
</div>
